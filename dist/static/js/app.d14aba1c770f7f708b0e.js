webpackJsonp([1],{137:function(t,e,a){a(226);var s=a(44)(a(179),a(376),null,null);t.exports=s.exports},138:function(t,e,a){a(224);var s=a(44)(a(180),a(374),"data-v-3c541c11",null);t.exports=s.exports},139:function(t,e,a){a(225);var s=a(44)(a(181),a(375),null,null);t.exports=s.exports},142:function(t,e,a){"use strict";var s=a(73),i=a(377),n=a(138),r=a.n(n),l=a(139),c=a.n(l),o=a(137),u=a.n(o);s.a.use(i.a),e.a=new i.a({routes:[{path:"/",redirect:"/search"},{path:"/search",name:"Search",component:c.a},{path:"/results",name:"results",component:u.a},{path:"/saved",name:"Saved",component:r.a}]})},145:function(t,e,a){a(223),a(222);var s=a(44)(a(178),a(373),null,null);t.exports=s.exports},178:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(187),i=a.n(s),n=a(186),r=a.n(n),l=a(139),c=a.n(l),o=a(138),u=a.n(o),d=a(137),v=(a.n(d),a(95)),_=a.n(v),p=a(160),h=a.n(p),f=r()(["\nquery allArticles {\n    allArticles(orderBy: createdAt_DESC) {\n        id\n        title\n        url\n        datePub\n    }\n}\n"],["\nquery allArticles {\n    allArticles(orderBy: createdAt_DESC) {\n        id\n        title\n        url\n        datePub\n    }\n}\n"]),m=r()(["\nmutation deleteArticle($id: ID!) {\n    deleteArticle(id: $id){\n        id\n    }\n}\n"],["\nmutation deleteArticle($id: ID!) {\n    deleteArticle(id: $id){\n        id\n    }\n}\n"]),b=r()(["\nmutation ($title: String!, $url: String!, $datePub: String!) {\n    createArticle(title: $title, url: $url, datePub: $datePub) {\n        id\n        title\n        url\n        datePub\n    }\n}\n"],["\nmutation ($title: String!, $url: String!, $datePub: String!) {\n    createArticle(title: $title, url: $url, datePub: $datePub) {\n        id\n        title\n        url\n        datePub\n    }\n}\n"]),g=_()(f),A=_()(m),C=_()(b);e.default={name:"app",components:{search:c.a,saved:u.a},data:function(){return{allArticles:{},loading:0,searched:!1,results:[]}},notifications:{saveSuccess:{title:"Success!",message:"Article added to Saved Articles",type:"success"},articleDeleted:{title:"Deleted",message:"Article remove",type:"error"}},methods:{setResults:function(t){this.results=t,this.searched=!0,this.$router.push({name:"results"})},runQuery:function(t){var e=this,a="https://api.nytimes.com/svc/search/v2/articlesearch.json?api-key=60ef363d30eb4fc79c853a9acb3cc5b6&q="+t.topic+"&begin_date="+t.start+"0101&end_date="+t.end+"0101";h.a.get(a).then(function(t){for(var a=[],s=0;s<5;s++)a.push(t.data.response.docs[s]);e.setResults(a)})},delArticle:function(t){var e=this,a=t.id;this.$apollo.mutate({mutation:A,variables:{id:a},updateQueries:{allArticles:function(t,e){var a=e.mutationResult;return{allArticles:t.allArticles.filter(function(t){return t.id!==a.data.deleteArticle.id})}}}}).then(function(t){e.articleDeleted()}).catch(function(t){console.error(t)})},save:function(t){var e=this,a=t.headline.main,s=t.web_url,n=t.pub_date;this.$apollo.mutate({mutation:C,variables:{title:a,url:s,datePub:n},updateQueries:{allArticles:function(t,e){return{allArticles:[e.mutationResult.data.createArticle].concat(i()(t.allArticles))}}}}).then(function(t){e.saveSuccess()}).catch(function(t){console.error(t)})}},apollo:{allArticles:{query:g,loadingKey:"loading"}}}},179:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(95);a.n(s),a(379);e.default={props:{results:{},loading:0},methods:{save:function(t){this.$parent.save(t)}}}},180:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{allArticles:{},loading:0,searched:Boolean},methods:{remove:function(t){this.$parent.delArticle(t)}}}},181:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{topic:"",start:"",end:""}},props:{searched:Boolean},methods:{handleSearch:function(){var t={};t.topic=this.topic,t.start=this.start,t.end=this.end,this.$parent.runQuery(t)}}}},182:function(t,e,a){"use strict";function s(t){var e=t.title,a=t.message,s=t.type,i=t.timeout,n=t.cb;return h.a[s](a,e,i,n)}Object.defineProperty(e,"__esModule",{value:!0});var i=a(73),n=a(145),r=a.n(n),l=a(141),c=a.n(l),o=a(144),u=a.n(o),d=a(142),v=a(146),_=a.n(v),p=a(143),h=a.n(p),f=a.i(l.createNetworkInterface)({uri:"https://api.graph.cool/simple/v1/cj12e83r4sp2601381hwsabe1"}),m={success:"success",error:"error",info:"info",warn:"warn"};h.a.init({types:m});var b={success:s,error:s,info:s,warn:s};i.a.use(_.a,b),_.a.config.timeout=4e3;var g=new c.a({networkInterface:f});i.a.use(u.a,{apolloClient:g}),new i.a({el:"#app",router:d.a,render:function(t){return t(r.a)}})},222:function(t,e){},223:function(t,e){},224:function(t,e){},225:function(t,e){},226:function(t,e){},373:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),a("section",{staticClass:"container"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view",{attrs:{searched:t.searched,results:t.results,allArticles:t.allArticles}})],1)],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero is-primary is-bold"},[a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"title is-1"},[t._v("\n                    New York Times Article Scrubber\n                ")]),t._v(" "),a("h2",{staticClass:"subtitle"},[t._v("\n                    Search and save articles of interest\n                ")])])])])}]}},374:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Box"},[a("div",{staticClass:"tabs is-right"},[a("ul",[a("router-link",{attrs:{to:"/search",tag:"li","active-class":"active",exact:""}},[a("a",[t._v("Search")])]),t._v(" "),t.searched?a("router-link",{attrs:{to:"/results",tag:"li","active-class":"active",exact:""}},[a("a",[t._v("Results")])]):t._e(),t._v(" "),t._m(0)],1)]),t._v(" "),a("h3",{staticClass:"title is-3"},[t._v("Saved Articles")]),t._v(" "),a("transition-group",{attrs:{name:"slide-fade"}},t._l(t.allArticles,function(e){return a("div",{key:e.id,staticClass:"columns"},[a("div",{staticClass:"column is-three-quarters"},[a("span",{staticClass:"title is-4"},[t._v(t._s(e.title))]),t._v(" "),a("p",[t._v("Date Published: "+t._s(e.datePub))])]),t._v(" "),a("div",{staticClass:"column auto"},[a("button",{staticClass:"button is-danger",on:{click:function(a){t.remove(e)}}},[t._v("Delete")]),t._v(" "),a("a",{attrs:{href:e.url,target:"_blank"}},[a("button",{staticClass:"button"},[t._v("View Article")])])])])}))],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"is-active"},[a("a",[t._v("Saved Articles")])])}]}},375:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"Box",attrs:{id:"search"}},[a("div",{staticClass:"tabs is-right"},[a("ul",[t._m(0),t._v(" "),t.searched?a("router-link",{attrs:{to:"/results",tag:"li","active-class":"active",exact:""}},[a("a",[t._v("Results")])]):t._e(),t._v(" "),a("router-link",{attrs:{to:"/saved",tag:"li","active-class":"active",exact:""}},[a("a",[t._v("Saved Articles")])])],1)]),t._v(" "),a("h3",{staticClass:"title is-3"},[t._v("Search")]),t._v(" "),a("div",{staticClass:"panel-body text-center"},[a("h4",{staticClass:"title is-4"},[t._v("\n                Topic\n            ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.topic,expression:"topic"}],domProps:{value:t.topic},on:{input:function(e){e.target.composing||(t.topic=e.target.value)}}}),t._v(" "),a("h4",{staticClass:"title is-4"},[t._v("\n                Start Year (YYYY)\n            ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.start,expression:"start"}],domProps:{value:t.start},on:{input:function(e){e.target.composing||(t.start=e.target.value)}}}),t._v(" "),a("h4",{staticClass:"title is-4"},[t._v("\n                End Year (YYYY)\n            ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.end,expression:"end"}],domProps:{value:t.end},on:{input:function(e){e.target.composing||(t.end=e.target.value)}}}),t._v(" "),a("br"),t._v(" "),a("button",{staticClass:"button is-primary is-outlined",on:{click:t.handleSearch}},[t._v("Submit")])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"is-active"},[a("a",[t._v("Search")])])}]}},376:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Box"},[a("div",{staticClass:"tabs is-right"},[a("ul",[a("router-link",{attrs:{to:"/search",tag:"li","active-class":"active",exact:""}},[a("a",[t._v("Search")])]),t._v(" "),t._m(0),t._v(" "),a("router-link",{attrs:{to:"/saved",tag:"li","active-class":"active",exact:""}},[a("a",[t._v("Saved Articles")])])],1)]),t._v(" "),a("h3",{staticClass:"title is-3"},[t._v("Results")]),t._v(" "),t._l(t.results,function(e){return a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-three-quarters"},[a("span",{staticClass:"title is-4"},[t._v(t._s(e.headline.main))]),t._v(" "),a("p",[t._v("Date Published: "+t._s(e.pub_date))])]),t._v(" "),a("div",{staticClass:"column auto"},[a("button",{staticClass:"button is-primary",on:{click:function(a){t.save(e)}}},[t._v("Save")]),t._v(" "),a("a",{attrs:{href:e.web_url,target:"_blank"}},[a("button",{staticClass:"button"},[t._v("View Article")])])])])})],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"is-active"},[a("a",[t._v("Results")])])}]}}},[182]);
//# sourceMappingURL=app.d14aba1c770f7f708b0e.js.map